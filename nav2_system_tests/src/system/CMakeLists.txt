ament_add_test(test_system_node
  GENERATE_RESULT_FOR_RETURN_CODE_ZERO
  COMMAND "${CMAKE_CURRENT_SOURCE_DIR}/launch/test_system_launch.py"
  WORKING_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}"
  ENV
    BRINGUP_DIR=${CMAKE_CURRENT_SOURCE_DIR}/../nav2_bringup
    TEST_DIR=${CMAKE_CURRENT_SOURCE_DIR}/src/system
    TEST_LAUNCH_DIR=${CMAKE_CURRENT_SOURCE_DIR}/launch
    TEST_MAP=${CMAKE_CURRENT_SOURCE_DIR}/maps/tb3_map.yaml
    TEST_WORLD=${CMAKE_CURRENT_SOURCE_DIR}/worlds/turtlebot3_ros2_demo.world
    GAZEBO_MODEL_PATH=$ENV{GAZEBO_MODEL_PATH}
)
